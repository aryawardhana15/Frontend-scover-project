# Enable URL rewriting
RewriteEngine On

# Handle client-side routing for React SPA
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.html [L]

# Redirect localhost:5000 API calls to your actual backend
RewriteCond %{REQUEST_URI} ^/api/
RewriteRule ^api/(.*)$ https://myscover.my.id/api/$1 [P,L]

# Alternative: If you want to redirect all localhost:5000 calls
# RewriteCond %{HTTP_REFERER} localhost:5000
# RewriteRule ^(.*)$ https://myscover.my.id/$1 [R=301,L]